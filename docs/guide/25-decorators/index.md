# 装饰器

## 学习目标
掌握装饰器的概念、原理和各种应用场景，能够熟练使用装饰器解决实际编程问题。

## 主要内容
- 装饰器的概念和原理
- 函数装饰器的定义和使用
- 带参数的装饰器
- 类装饰器的实现
- 装饰器的嵌套使用
- functools.wraps的作用
- 常用的内置装饰器
- 装饰器的实际应用场景

## 学习路径

### 基础阶段
1. [装饰器基础概念和原理](./01_decorator_basics.md) - 理解装饰器的本质和工作原理
2. [函数装饰器的定义和使用](./02_function_decorators.md) - 掌握函数装饰器的实现
3. [带参数的装饰器](./03_decorators_with_args.md) - 学习参数化装饰器

### 进阶阶段
4. [类装饰器的实现](./04_class_decorators.md) - 了解类装饰器的优势
5. [装饰器的嵌套使用](./05_nested_decorators.md) - 掌握装饰器链的使用
6. [functools.wraps的作用](./06_functools_wraps.md) - 学习装饰器的最佳实践

### 应用阶段
7. [常用的内置装饰器](./07_builtin_decorators.md) - 掌握Python内置装饰器
8. [综合练习](./08_exercises.md) - 装饰器的实际应用和练习

## 学习建议

### 学习方法
1. **理论与实践结合**：每个概念都要通过代码实践来理解
2. **循序渐进**：按照推荐的学习路径逐步深入
3. **多做练习**：装饰器的理解需要大量的实践
4. **关注应用**：学习装饰器在实际项目中的应用场景

### 重点难点
1. **装饰器的执行时机**：理解装饰器何时被调用
2. **参数传递机制**：掌握装饰器如何处理函数参数
3. **嵌套结构**：理解多层函数嵌套的逻辑
4. **元信息保持**：学会使用functools.wraps

### 实际应用
装饰器在实际开发中的常见应用：
- **日志记录**：自动记录函数调用信息
- **性能监控**：测量函数执行时间
- **权限控制**：检查用户权限
- **缓存机制**：缓存函数结果
- **重试机制**：自动重试失败的操作
- **参数验证**：验证函数参数的有效性

## 练习要点
1. 理解装饰器的工作原理和执行时机
2. 掌握创建简单和复杂装饰器的方法
3. 学会使用functools.wraps保持元信息
4. 练习装饰器在日志、缓存、权限等场景的应用
5. 了解装饰器的性能影响和优化方法
6. 掌握装饰器的嵌套使用和最佳实践

## 常见问题

### Q: 装饰器什么时候执行？
A: 装饰器在函数定义时就会执行，而不是在函数调用时。装饰器返回的包装函数才是在函数调用时执行的。

### Q: 多个装饰器的执行顺序是什么？
A: 多个装饰器的执行顺序是从下到上（从内到外），就像洋葱一样，一层层包装。

### Q: 为什么要使用functools.wraps？
A: 使用functools.wraps可以保持原函数的元信息（如__name__、__doc__等），这对调试和文档生成很重要。

### Q: 装饰器会影响性能吗？
A: 装饰器会增加函数调用的开销，但通常这个开销很小。如果性能是关键考虑因素，需要谨慎使用复杂的装饰器。

通过系统学习这些内容，你将能够熟练掌握装饰器的使